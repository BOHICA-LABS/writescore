# Epic 4.0: WriteScore Repository Extraction

## Status: Draft

## Epic Goal

Extract the writescore package from its embedded location into a standalone GitHub repository with industry-standard Python project structure, CI/CD pipeline, and automated release management to enable independent development, versioning, and distribution.

## Epic Description

### Existing System Context

| Aspect | Current State |
|--------|---------------|
| **Location** | `/B31590/.bmad-technical-writing/data/tools/writescore` |
| **Structure** | Flat package with tests/docs nested inside |
| **Technology** | Python 3.8+, Click, NLTK, spaCy, Transformers, PyTorch |
| **Packaging** | pyproject.toml + setup.py (version mismatch: 6.0.0 vs 5.0.0) |
| **CI/CD** | None |
| **Distribution** | Local editable install only |

### Target State

| Aspect | Target State |
|--------|--------------|
| **Location** | `/Users/jmagady/Dev/writescore` (standalone repo) |
| **Structure** | `src/writescore/` layout per PEP 517/518 |
| **Root Items** | `tests/`, `docs/`, `scripts/`, `README.md`, `CHANGELOG.md` |
| **Packaging** | Single pyproject.toml (no setup.py), unified version |
| **CI/CD** | GitHub Actions for test, lint, build |
| **Distribution** | GitHub Releases with automated changelog |

### Success Criteria

1. All existing tests pass in new repository structure
2. `pip install -e .` works from new repository root
3. `writescore` CLI command functions identically
4. GitHub Actions CI runs on push/PR
5. Releases can be created with changelog generation

## Stories

| Story | Title | Description |
|-------|-------|-------------|
| 4.1 | Repository Setup & Source Migration | Create new repo with src-layout and migrate source code |
| 4.2 | Test & Documentation Migration | Migrate tests and docs to repo root with proper config |
| 4.3 | CI/CD & Release Automation | Implement GitHub Actions CI and release workflow |

## Compatibility Requirements

- [x] **No functional changes** - behavior identical to current implementation
- [x] **API unchanged** - all public interfaces remain the same
- [x] **CLI unchanged** - `writescore` command works identically
- [x] **Test parity** - all existing tests pass without modification (beyond import paths)

## Risk Mitigation

| Risk | Mitigation | Rollback |
|------|------------|----------|
| **Import path breaks** | Systematic find/replace with verification | Original source remains in B31590 |
| **Test failures** | Run full test suite after each story | Revert to last working commit |
| **CI misconfiguration** | Test workflows locally with `act` | Disable workflows, fix, re-enable |

## Definition of Done

- [ ] All 3 stories completed with acceptance criteria met
- [ ] Full test suite passes in new repository
- [ ] CLI functions identically to original
- [ ] CI/CD pipeline operational
- [ ] At least one successful GitHub release created
- [ ] README updated with installation/usage from new repo
- [ ] Original location can be archived/removed

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-25 | 1.0 | Initial epic creation | Sarah (PO Agent) |
